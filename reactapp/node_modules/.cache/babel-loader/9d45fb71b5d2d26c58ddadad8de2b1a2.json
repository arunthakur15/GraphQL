{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/home/arunthakur/GraphQL/client/src/components/AddBook.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport React, { Component, useState } from 'react';\nimport { useQuery, compose, useMutation } from '@apollo/client';\nimport { getAuthorsQuery, getBooksQuery, addBookMutation } from '../queries/queries';\n\nfunction Authors() {\n  _s();\n\n  const {\n    loading,\n    error,\n    data\n  } = useQuery(getAuthorsQuery);\n  if (loading) return /*#__PURE__*/_jsxDEV(\"span\", {\n    children: \"Loading...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 12,\n    columnNumber: 25\n  }, this);\n  if (error) return /*#__PURE__*/_jsxDEV(\"span\", {\n    children: \"Error :(\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 13,\n    columnNumber: 23\n  }, this);\n  return data.authors.map(author => {\n    return /*#__PURE__*/_jsxDEV(\"option\", {\n      value: author.id,\n      children: author.name\n    }, author.id, false, {\n      fileName: _jsxFileName,\n      lineNumber: 16,\n      columnNumber: 9\n    }, this);\n  });\n}\n\n_s(Authors, \"OQZiY3KqWoytFPIJWw/H9Hrmbok=\", false, function () {\n  return [useQuery];\n});\n\n_c = Authors;\n\nfunction AddBookForm() {\n  _s2();\n\n  const [formState, setFormState] = useState({\n    name: '',\n    genre: '',\n    authorId: ''\n  });\n  const [addBook] = useMutation(addBookMutation, {\n    variables: {\n      name: formState.name,\n      genre: formState.genre,\n      authorId: formState.authorId\n    },\n    refetchQueries: [{\n      query: getBooksQuery\n    }]\n  });\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    id: \"add-book\",\n    onSubmit: e => {\n      e.preventDefault();\n      addBook();\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"field\",\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Book Name:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        value: formState.name,\n        onChange: e => setFormState({ ...formState,\n          name: e.target.value\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"field\",\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Genre:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        value: formState.genre,\n        onChange: e => setFormState({ ...formState,\n          genre: e.target.value\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"field\",\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Author:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        onChange: e => setFormState({ ...formState,\n          authorId: e.target.value\n        }),\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          children: \"Select Author\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Authors, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"submit\",\n      children: \"+\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 38,\n    columnNumber: 9\n  }, this);\n}\n\n_s2(AddBookForm, \"XFPfOHUBV4HuueYGJpPN00U22zY=\", false, function () {\n  return [useMutation];\n});\n\n_c2 = AddBookForm;\n\nclass AddBook extends Component {\n  render() {\n    return /*#__PURE__*/_jsxDEV(AddBookForm, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default AddBook;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"Authors\");\n$RefreshReg$(_c2, \"AddBookForm\");","map":{"version":3,"sources":["/home/arunthakur/GraphQL/client/src/components/AddBook.js"],"names":["React","Component","useState","useQuery","compose","useMutation","getAuthorsQuery","getBooksQuery","addBookMutation","Authors","loading","error","data","authors","map","author","id","name","AddBookForm","formState","setFormState","genre","authorId","addBook","variables","refetchQueries","query","e","preventDefault","target","value","AddBook","render"],"mappings":"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","sourcesContent":["import React, {Component, useState} from 'react';\nimport { useQuery, compose, useMutation } from '@apollo/client';\n\nimport {getAuthorsQuery,getBooksQuery, addBookMutation} from '../queries/queries';\n\n\n\n\nfunction Authors() {\n    const { loading, error, data } = useQuery(getAuthorsQuery);\n\n    if (loading) return <span>Loading...</span>;\n    if (error) return <span>Error :(</span>;\n    return data.authors.map(author => {\n        return(\n        <option key={author.id} value={author.id}>{author.name}</option>\n        )\n    });\n}\n\nfunction AddBookForm() {\n    const [formState, setFormState] = useState({\n        name: '',\n        genre: '',\n        authorId:''\n      });\n\n    const [addBook] = useMutation(addBookMutation, {\n        variables: {\n          name: formState.name,\n          genre: formState.genre,\n          authorId: formState.authorId\n        },\n        refetchQueries: [{query: getBooksQuery}]\n      });\n    return(\n        \n        <form id=\"add-book\" onSubmit={e => {\n            e.preventDefault();\n            addBook();\n          }}>\n\n        <div className=\"field\">\n            <label>Book Name:</label>\n            <input type=\"text\" value={formState.name} onChange={(e)=> setFormState({\n                ...formState,\n                name:e.target.value\n            })}/>\n        </div>\n\n        <div className=\"field\">\n            <label>Genre:</label>\n            <input type=\"text\" value={formState.genre} onChange={(e)=> setFormState({\n                ...formState,\n                genre:e.target.value\n                })}/>\n        </div>\n\n        <div className=\"field\">\n            <label>Author:</label>\n            <select onChange={(e)=> setFormState({\n                ...formState,\n                authorId:e.target.value\n                })}>\n                <option>\n                    Select Author\n                </option>\n                <Authors/>\n            </select>\n        </div>\n\n        <button type=\"submit\">+</button>\n\n    </form>\n    )\n}\n\nclass AddBook extends Component {\n    \n    render(){\n        return(\n            <AddBookForm/>\n        )\n    }\n}\n\nexport default AddBook;"]},"metadata":{},"sourceType":"module"}