{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/home/arunthakur/GraphQL/client/src/components/AddBook.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport React, { Component, useState } from 'react';\nimport { useQuery, compose, useMutation } from '@apollo/client';\nimport { getAuthorsQuery, addBookMutation } from '../queries/queries';\n\nfunction Authors() {\n  _s();\n\n  const {\n    loading,\n    error,\n    data\n  } = useQuery(getAuthorsQuery);\n  if (loading) return /*#__PURE__*/_jsxDEV(\"p\", {\n    children: \"Loading...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 10,\n    columnNumber: 25\n  }, this);\n  if (error) return /*#__PURE__*/_jsxDEV(\"p\", {\n    children: \"Error :(\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 11,\n    columnNumber: 23\n  }, this);\n  return data.authors.map(author => {\n    return /*#__PURE__*/_jsxDEV(\"option\", {\n      value: author.id,\n      children: author.name\n    }, author.id, false, {\n      fileName: _jsxFileName,\n      lineNumber: 14,\n      columnNumber: 9\n    }, this);\n  });\n}\n\n_s(Authors, \"OQZiY3KqWoytFPIJWw/H9Hrmbok=\", false, function () {\n  return [useQuery];\n});\n\n_c = Authors;\n\nfunction AddBookButton() {\n  _s2();\n\n  const [formState, setFormState] = useState({\n    name: '',\n    genre: '',\n    authorId: ''\n  }); //const [addBook, { data }] = useMutation(addBookMutation);\n\n  const [addBook] = useMutation(addBookMutation, {\n    variables: {\n      name: formState.name,\n      genre: formState.genre,\n      authorId: formState.authorId\n    }\n  });\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    id: \"add-book\",\n    onSubmit: e => {\n      e.preventDefault();\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"field\",\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Book Name:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        value: formState.name,\n        onChange: e => setFormState({ ...formState,\n          name: e.target.value\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"field\",\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Genre:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        value: formState.genre,\n        onChange: e => setFormState({ ...formState,\n          genre: e.target.value\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"field\",\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Author:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        onChange: e => setFormState({ ...formState,\n          authorId: e.target.value\n        }),\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          children: \"Select Author\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Authors, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"submit\",\n      children: \"+\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 35,\n    columnNumber: 9\n  }, this);\n}\n\n_s2(AddBookButton, \"XFPfOHUBV4HuueYGJpPN00U22zY=\", false, function () {\n  return [useMutation];\n});\n\n_c2 = AddBookButton;\n\nclass AddBook extends Component {\n  // constructor(props){\n  //     super(props);\n  //     this.state = {\n  //         name:\"\",\n  //         genre:\"\",\n  //         authorId:\"\"\n  //     }\n  // }\n  // submitForm(e) {\n  //     e.preventDefault()\n  // }\n  render() {\n    return /*#__PURE__*/_jsxDEV(AddBookButton, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default AddBook;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"Authors\");\n$RefreshReg$(_c2, \"AddBookButton\");","map":{"version":3,"sources":["/home/arunthakur/GraphQL/client/src/components/AddBook.js"],"names":["React","Component","useState","useQuery","compose","useMutation","getAuthorsQuery","addBookMutation","Authors","loading","error","data","authors","map","author","id","name","AddBookButton","formState","setFormState","genre","authorId","addBook","variables","e","preventDefault","target","value","AddBook","render"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAeC,SAAf,EAA0BC,QAA1B,QAAyC,OAAzC;AACA,SAASC,QAAT,EAAmBC,OAAnB,EAA4BC,WAA5B,QAA+C,gBAA/C;AAEA,SAAQC,eAAR,EAAyBC,eAAzB,QAA+C,oBAA/C;;AAGA,SAASC,OAAT,GAAmB;AAAA;;AACf,QAAM;AAAEC,IAAAA,OAAF;AAAWC,IAAAA,KAAX;AAAkBC,IAAAA;AAAlB,MAA2BR,QAAQ,CAACG,eAAD,CAAzC;AAEA,MAAIG,OAAJ,EAAa,oBAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAP;AACb,MAAIC,KAAJ,EAAW,oBAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAP;AACX,SAAOC,IAAI,CAACC,OAAL,CAAaC,GAAb,CAAiBC,MAAM,IAAI;AAC9B,wBACA;AAAwB,MAAA,KAAK,EAAEA,MAAM,CAACC,EAAtC;AAAA,gBAA2CD,MAAM,CAACE;AAAlD,OAAaF,MAAM,CAACC,EAApB;AAAA;AAAA;AAAA;AAAA,YADA;AAGH,GAJM,CAAP;AAKH;;GAVQP,O;UAC4BL,Q;;;KAD5BK,O;;AAYT,SAASS,aAAT,GAAyB;AAAA;;AACrB,QAAM,CAACC,SAAD,EAAYC,YAAZ,IAA4BjB,QAAQ,CAAC;AACvCc,IAAAA,IAAI,EAAE,EADiC;AAEvCI,IAAAA,KAAK,EAAE,EAFgC;AAGvCC,IAAAA,QAAQ,EAAC;AAH8B,GAAD,CAA1C,CADqB,CAMrB;;AACA,QAAM,CAACC,OAAD,IAAYjB,WAAW,CAACE,eAAD,EAAkB;AAC3CgB,IAAAA,SAAS,EAAE;AACTP,MAAAA,IAAI,EAAEE,SAAS,CAACF,IADP;AAETI,MAAAA,KAAK,EAAEF,SAAS,CAACE,KAFR;AAGTC,MAAAA,QAAQ,EAAEH,SAAS,CAACG;AAHX;AADgC,GAAlB,CAA7B;AAOA,sBAEI;AAAM,IAAA,EAAE,EAAC,UAAT;AAAoB,IAAA,QAAQ,EAAEG,CAAC,IAAI;AAC/BA,MAAAA,CAAC,CAACC,cAAF;AAED,KAHH;AAAA,4BAKA;AAAK,MAAA,SAAS,EAAC,OAAf;AAAA,8BACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADJ,eAEI;AAAO,QAAA,IAAI,EAAC,MAAZ;AAAmB,QAAA,KAAK,EAAEP,SAAS,CAACF,IAApC;AAA0C,QAAA,QAAQ,EAAGQ,CAAD,IAAML,YAAY,CAAC,EACnE,GAAGD,SADgE;AAEnEF,UAAAA,IAAI,EAACQ,CAAC,CAACE,MAAF,CAASC;AAFqD,SAAD;AAAtE;AAAA;AAAA;AAAA;AAAA,cAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,YALA,eAaA;AAAK,MAAA,SAAS,EAAC,OAAf;AAAA,8BACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADJ,eAEI;AAAO,QAAA,IAAI,EAAC,MAAZ;AAAmB,QAAA,KAAK,EAAET,SAAS,CAACE,KAApC;AAA2C,QAAA,QAAQ,EAAGI,CAAD,IAAML,YAAY,CAAC,EACpE,GAAGD,SADiE;AAEpEE,UAAAA,KAAK,EAACI,CAAC,CAACE,MAAF,CAASC;AAFqD,SAAD;AAAvE;AAAA;AAAA;AAAA;AAAA,cAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,YAbA,eAqBA;AAAK,MAAA,SAAS,EAAC,OAAf;AAAA,8BACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADJ,eAEI;AAAQ,QAAA,QAAQ,EAAGH,CAAD,IAAML,YAAY,CAAC,EACjC,GAAGD,SAD8B;AAEjCG,UAAAA,QAAQ,EAACG,CAAC,CAACE,MAAF,CAASC;AAFe,SAAD,CAApC;AAAA,gCAII;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAJJ,eAOI,QAAC,OAAD;AAAA;AAAA;AAAA;AAAA,gBAPJ;AAAA;AAAA;AAAA;AAAA;AAAA,cAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,YArBA,eAkCA;AAAQ,MAAA,IAAI,EAAC,QAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAlCA;AAAA;AAAA;AAAA;AAAA;AAAA,UAFJ;AAwCH;;IAtDQV,a;UAOaZ,W;;;MAPbY,a;;AAwDT,MAAMW,OAAN,SAAsB3B,SAAtB,CAAgC;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AAEA4B,EAAAA,MAAM,GAAE;AACJ,wBACI,QAAC,aAAD;AAAA;AAAA;AAAA;AAAA,YADJ;AAGH;;AAnB2B;;AAsBhC,eAAeD,OAAf","sourcesContent":["import React, {Component, useState} from 'react';\nimport { useQuery, compose, useMutation } from '@apollo/client';\n\nimport {getAuthorsQuery, addBookMutation} from '../queries/queries';\n\n\nfunction Authors() {\n    const { loading, error, data } = useQuery(getAuthorsQuery);\n\n    if (loading) return <p>Loading...</p>;\n    if (error) return <p>Error :(</p>;\n    return data.authors.map(author => {\n        return(\n        <option key={author.id} value={author.id}>{author.name}</option>\n        )\n    });\n}\n\nfunction AddBookButton() {\n    const [formState, setFormState] = useState({\n        name: '',\n        genre: '',\n        authorId:''\n      });\n    //const [addBook, { data }] = useMutation(addBookMutation);\n    const [addBook] = useMutation(addBookMutation, {\n        variables: {\n          name: formState.name,\n          genre: formState.genre,\n          authorId: formState.authorId\n        }\n      });\n    return(\n        \n        <form id=\"add-book\" onSubmit={e => {\n            e.preventDefault();\n            \n          }}>\n\n        <div className=\"field\">\n            <label>Book Name:</label>\n            <input type=\"text\" value={formState.name} onChange={(e)=> setFormState({\n                ...formState,\n                name:e.target.value\n            })}/>\n        </div>\n\n        <div className=\"field\">\n            <label>Genre:</label>\n            <input type=\"text\" value={formState.genre} onChange={(e)=> setFormState({\n                ...formState,\n                genre:e.target.value\n                })}/>\n        </div>\n\n        <div className=\"field\">\n            <label>Author:</label>\n            <select onChange={(e)=> setFormState({\n                ...formState,\n                authorId:e.target.value\n                })}>\n                <option>\n                    Select Author\n                </option>\n                <Authors/>\n            </select>\n        </div>\n\n        <button type=\"submit\">+</button>\n\n    </form>\n    )\n}\n\nclass AddBook extends Component {\n    // constructor(props){\n    //     super(props);\n    //     this.state = {\n    //         name:\"\",\n    //         genre:\"\",\n    //         authorId:\"\"\n    //     }\n    // }\n\n    // submitForm(e) {\n    //     e.preventDefault()\n        \n    // }\n\n    render(){\n        return(\n            <AddBookButton/>\n        )\n    }\n}\n\nexport default AddBook;"]},"metadata":{},"sourceType":"module"}